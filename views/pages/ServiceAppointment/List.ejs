<%- include('../../fragment/header.ejs') %>
<main>
    <h2>Service appointments</h2>
    <table class="table-list">
        <tr>
            <th class="tablehide">Customer Name</th>
            <th class="tablehide">Mechanic Name</th>
            <th>Mechanic Surname</th>
            <th class="tablehide">Price</th>
            <th>Date</th>
            <th>Time</th>
            <th class="tablehide">Discount</th>
            <th>Actions</th>
        </tr>
        <tbody>
        <% for (let appt of serviceAppointment) { %>
            <tr>
                <td class="tablehide"><%=appt.car.customerName%></td>
                <td class="tablehide"><%= appt.mechanic.firstName%></td>
                <td><%= appt.mechanic.lastName%></td>
                <td class="tablehide"><%=appt.price%></td>
                <td><%=appt.date%></td>
                <td><%=appt.timeslot%></td>
                <td class="tablehide"><%=appt.discount%>%</td>
                <td>
                    <ul class="list-actions">
                        <li>
                            <a href="/serviceappointment/details/<%=appt._id%>"
                               class="list-actions-button-details">Details</a>
                        </li>
                        <li>
                            <a href="/serviceappointment/edit/<%=appt._id%>"
                               class="list-actions-button-edit">Edit</a>
                        </li>
                        <li>
                            <a href="/serviceappointment/delete/<%=appt._id%>"
                               class="list-actions-button-delete">Delete</a>
                        </li>
                    </ul>
                </td>

            </tr>
        <% } %>
        </tbody>
    </table>
    <p><a href="/serviceappointment/add" class="button-add">Add new service appointment</a></p>
</main>
<%- include('../../fragment/footer.ejs') %>